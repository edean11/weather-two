function getJSON(e,t){var r=new XMLHttpRequest;r.open("GET",e),r.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},r.send()}function createArray(e){var t=[];return _.forEach(e,function(e){var r=[];r.push(e.icon_url),r.push(e.date.monthname_short+" "+e.date.day+", "+e.date.year),r.push(e.high.fahrenheit),r.push(e.low.fahrenheit),t.push(r)}),console.log(t),t}function createList(e){var t=document.createDocumentFragment();return _.forEach(e,function(e){if("h"===e[0]){var r=document.createElement("li"),a=document.createElement("img");a.src=e,r.appendChild(a),t.appendChild(r)}else{var r=document.createElement("li"),o=document.createTextNode(e);r.appendChild(o),t.appendChild(r)}}),t}function createHeader(e){var t=document.createDocumentFragment(),r=document.createTextNode(e);return t.appendChild(r),t}var enteredZip=document.querySelector("#zipCode"),zip,submit=document.querySelector("#button"),location=document.querySelector("#location");submit.addEventListener("click",function(){zip=enteredZip.value;var e="https://api.wunderground.com/api/e948aefbd9d71dd2/forecast/q/"+zip+".json",t="http://api.wunderground.com/api/e948aefbd9d71dd2/geolookup/q/autoip.json";getJSON(e,function(e){var t=document.querySelector(".result1"),r=document.querySelector(".result2"),a=document.querySelector(".result3"),o=document.querySelector(".result4"),c=createArray(e.forecast.simpleforecast.forecastday)[0];t.appendChild(createList(c));var n=createArray(e.forecast.simpleforecast.forecastday)[1];r.appendChild(createList(n));var d=createArray(e.forecast.simpleforecast.forecastday)[2];a.appendChild(createList(d));var i=createArray(e.forecast.simpleforecast.forecastday)[3];o.appendChild(createList(i))}),getJSON(t,function(e){var t=document.querySelector("#locationContainer"),r=createHeader(e.location.city+", "+e.location.state);t.appendChild(r)})}),location.addEventListener("click",function(){var e="http://api.wunderground.com/api/e948aefbd9d71dd2/geolookup/q/autoip.json",t=e.location,r="https://api.wunderground.com/api/e948aefbd9d71dd2/forecast/q/"+t+".json";getJSON(r,function(e){var t=document.querySelector(".result1"),r=document.querySelector(".result2"),a=document.querySelector(".result3"),o=document.querySelector(".result4"),c=createArray(e.forecast.simpleforecast.forecastday)[0];t.appendChild(createList(c));var n=createArray(e.forecast.simpleforecast.forecastday)[1];r.appendChild(createList(n));var d=createArray(e.forecast.simpleforecast.forecastday)[2];a.appendChild(createList(d));var i=createArray(e.forecast.simpleforecast.forecastday)[3];o.appendChild(createList(i))}),getJSON(e,function(e){var t=document.querySelector("#locationContainer"),r=createHeader(e.location.city+", "+e.location.state);t.appendChild(r)})});
